{"ast":null,"code":"import { query } from \"../../lib/db\";\n\nconst handler = async (req, res) => {\n  console.log(req);\n  const {\n    id\n  } = req.query;\n\n  try {\n    if (!id) {\n      return res.status(400).json({\n        message: \"`id` required\"\n      });\n    } // @ts-ignore\n\n\n    if (typeof parseInt(id) !== \"number\") {\n      return res.status(400).json({\n        message: \"`id` must be a number\"\n      });\n    }\n\n    const results = await query(`\n      SELECT *\n      FROM playeras\n      WHERE id = ?\n    `, id);\n    return res.json(results[0]);\n  } catch (e) {\n    res.status(500).json({\n      message: e.message\n    });\n  }\n};\n\nexport default handler;","map":{"version":3,"sources":["/Users/rjfm/WebstormProjects/next/pages/api/getShirt.ts"],"names":["query","handler","req","res","console","log","id","status","json","message","parseInt","results","e"],"mappings":"AACA,SAASA,KAAT,QAAsB,cAAtB;;AAEA,MAAMC,OAAuB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA,QAAM;AAAEI,IAAAA;AAAF,MAASJ,GAAG,CAACF,KAAnB;;AACA,MAAI;AACF,QAAI,CAACM,EAAL,EAAS;AACP,aAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD,KAHC,CAIF;;;AACA,QAAI,OAAOC,QAAQ,CAACJ,EAAD,CAAf,KAAwB,QAA5B,EAAsC;AACpC,aAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;;AACD,UAAME,OAAO,GAAG,MAAMX,KAAK,CACxB;AACP;AACA;AACA;AACA,KAL+B,EAMzBM,EANyB,CAA3B;AASA,WAAOH,GAAG,CAACK,IAAJ,CAASG,OAAO,CAAC,CAAD,CAAhB,CAAP;AACD,GAlBD,CAkBE,OAAOC,CAAP,EAAU;AACVT,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAEG,CAAC,CAACH;AAAb,KAArB;AACD;AACF,CAxBD;;AA0BA,eAAeR,OAAf","sourcesContent":["import { NextApiHandler } from \"next\";\nimport { query } from \"../../lib/db\";\n\nconst handler: NextApiHandler = async (req, res) => {\n  console.log(req);\n  const { id } = req.query;\n  try {\n    if (!id) {\n      return res.status(400).json({ message: \"`id` required\" });\n    }\n    // @ts-ignore\n    if (typeof parseInt(id) !== \"number\") {\n      return res.status(400).json({ message: \"`id` must be a number\" });\n    }\n    const results = await query(\n      `\n      SELECT *\n      FROM playeras\n      WHERE id = ?\n    `,\n      id\n    );\n\n    return res.json(results[0]);\n  } catch (e) {\n    res.status(500).json({ message: e.message });\n  }\n};\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}