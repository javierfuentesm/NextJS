{"ast":null,"code":"import mysql from \"serverless-mysql\";\nexport const db = mysql({\n  config: {\n    host: process.env.MYSQL_HOST,\n    database: process.env.MYSQL_DATABASE,\n    user: process.env.MYSQL_USERNAME,\n    password: process.env.MYSQL_PASSWORD\n  }\n});\nexport async function query(q, values = []) {\n  try {\n    const results = await db.query(q, values);\n    await db.end();\n    return results;\n  } catch (e) {\n    throw Error(e.message);\n  }\n}","map":{"version":3,"sources":["/Users/rjfm/WebstormProjects/next/lib/db.ts"],"names":["mysql","db","config","host","process","env","MYSQL_HOST","database","MYSQL_DATABASE","user","MYSQL_USERNAME","password","MYSQL_PASSWORD","query","q","values","results","end","e","Error","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AAEA,OAAO,MAAMC,EAAE,GAAGD,KAAK,CAAC;AACtBE,EAAAA,MAAM,EAAE;AACNC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,UADZ;AAENC,IAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,cAFhB;AAGNC,IAAAA,IAAI,EAAEL,OAAO,CAACC,GAAR,CAAYK,cAHZ;AAINC,IAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAJhB;AADc,CAAD,CAAhB;AASP,OAAO,eAAeC,KAAf,CACLC,CADK,EAELC,MAA6C,GAAG,EAF3C,EAGL;AACA,MAAI;AACF,UAAMC,OAAO,GAAG,MAAMf,EAAE,CAACY,KAAH,CAASC,CAAT,EAAYC,MAAZ,CAAtB;AACA,UAAMd,EAAE,CAACgB,GAAH,EAAN;AACA,WAAOD,OAAP;AACD,GAJD,CAIE,OAAOE,CAAP,EAAU;AACV,UAAMC,KAAK,CAACD,CAAC,CAACE,OAAH,CAAX;AACD;AACF","sourcesContent":["import mysql from \"serverless-mysql\";\n\nexport const db = mysql({\n  config: {\n    host: process.env.MYSQL_HOST,\n    database: process.env.MYSQL_DATABASE,\n    user: process.env.MYSQL_USERNAME,\n    password: process.env.MYSQL_PASSWORD,\n  },\n});\n\nexport async function query(\n  q: string,\n  values: (string | number)[] | string | number = []\n) {\n  try {\n    const results = await db.query(q, values);\n    await db.end();\n    return results;\n  } catch (e) {\n    throw Error(e.message);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}